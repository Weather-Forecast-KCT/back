Public IP address/DNS name label
20.48.224.19/weather.canadacentral.cloudapp.azure.com


CREATE TABLE Weather (
   Id SERIAL PRIMARY KEY,
   Date DATE NOT NULL,
   TemperatureInside FLOAT NOT NULL,
   TemperatureOutside FLOAT NOT NULL,
   Humidity FLOAT NOT NULL,
   RainRate FLOAT NOT NULL,
   UVIndex FLOAT NOT NULL,
   WindSpeed FLOAT NOT NULL,
   Barometer FLOAT NOT NULL
);

CREATE TABLE Updates (
   Id SERIAL PRIMARY KEY,
   WeatherId INT NOT NULL,
   LastUpdate TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

new.py

import psycopg2
import random
import time

# Connect to the database
conn = psycopg2.connect(database="mydatabase", user="postgres", password="mypassword", host="localhost", port="5432")
cur = conn.cursor()

# Main loop
while True:
    # Generate random weather data
    date = time.strftime("%Y-%m-%d")
    temp_inside = round(random.uniform(18, 24), 1)
    temp_outside = round(random.uniform(15, 20), 1)
    humidity = round(random.uniform(50, 80), 1)
    rain_rate = round(random.uniform(0, 5), 1)
    uv_index = round(random.uniform(0, 10), 1)
    wind_speed = round(random.uniform(0, 20), 1)
    barometer = round(random.uniform(1000, 1015), 1)

    # Insert the data into the Weather table
    cur.execute("INSERT INTO Weather (Date, TemperatureInside, TemperatureOutside, Humidity, RainRate, UVIndex, WindSpeed, Barometer) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)", (date, temp_inside, temp_outside, humidity, rain_rate, uv_index, wind_speed, barometer))
    conn.commit()

    # Get the ID of the new weather entry
    cur.execute("SELECT LASTVAL()")
    weather_id = cur.fetchone()[0]

    # Insert the update into the Updates table
    cur.execute("INSERT INTO
