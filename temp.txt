Public IP address/DNS name label
20.48.224.19/weather.canadacentral.cloudapp.azure.com
https://kct-weather-api.azurewebsites.net/process/api

CREATE TABLE Weather (
   Id SERIAL PRIMARY KEY,
   Date DATE NOT NULL,
   TemperatureInside FLOAT NOT NULL,
   TemperatureOutside FLOAT NOT NULL,
   Humidity FLOAT NOT NULL,
   RainRate FLOAT NOT NULL,
   UVIndex FLOAT NOT NULL,
   WindSpeed FLOAT NOT NULL,
   Barometer FLOAT NOT NULL
);

CREATE TABLE Updates (
   Id SERIAL PRIMARY KEY,
   WeatherId INT NOT NULL,
   LastUpdate TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

new.py

import psycopg2
import datetime
import time

# Connect to the PostgreSQL database
conn = psycopg2.connect(
    host="localhost",
    database="your_database_name",
    user="your_username",
    password="your_password"
)

# Open a cursor to perform database operations
cur = conn.cursor()

# Generate and insert weather data for each hour of the three days
for i in range(3):
    for hour in range(24):
        # Generate a timestamp for the current hour
        timestamp = datetime.datetime(2023, 4, i + 1, hour, 0, 0).strftime("%Y-%m-%d %H:%M:%S")

        # Generate some random weather data
        temp_inside = 20.0 + i + hour / 10.0
        temp_outside = 15.0 + i + hour / 10.0
        humidity = 50.0 + i + hour / 10.0
        rain_rate = i + hour / 10.0
        uv_index = i + hour / 10.0
        wind_speed = 5.0 + i + hour / 10.0
        barometer = 1000.0 + i + hour / 10.0

        # Insert the data into the Weather table
        cur.execute("INSERT INTO Weather (DateTime, TemperatureInside, TemperatureOutside, Humidity, RainRate, UVIndex, WindSpeed, Barometer) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)", (timestamp, temp_inside, temp_outside, humidity, rain_rate, uv_index, wind_speed, barometer))

        # Commit the transaction
        conn.commit()

        # Wait for 5 seconds before inserting the next data point
        time.sleep(5)

# Close the cursor and database connection
cur.close()
conn.close()
